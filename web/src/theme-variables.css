/* =============================================================================
   theme-variables.css
   
   Cheffy Dark / Light Mode — CSS Custom Properties + Surface Overrides
   
   Strategy:
     1. Define semantic CSS variables under [data-theme="dark"] and
        [data-theme="light"] on <html>.
     2. Apply broad surface overrides (backgrounds, borders, text)
        so components using Tailwind classes or inline styles are
        covered without per-component edits.
     3. The MealPlanDisplay "Your Nutrition" card keeps its dark
        inline styles in dark mode; mpd-theme-override.css activates
        only under [data-theme="light"].
   
   Import in index.jsx BEFORE component CSS:
     import './theme-variables.css';
   ============================================================================= */


/* ── 1. CUSTOM PROPERTIES ─────────────────────────────────────────────────── */

[data-theme="dark"] {
  /* Surfaces */
  --color-bg-primary:       #0f1117;
  --color-bg-secondary:     #181a24;
  --color-bg-card:          #1e2130;
  --color-bg-card-hover:    #252839;
  --color-bg-elevated:      #252839;
  --color-bg-input:         #1e2130;

  /* Borders */
  --color-border:           #2d3148;
  --color-border-light:     #23263a;
  --color-border-focus:     #6366f1;

  /* Text */
  --color-text-primary:     #f0f1f5;
  --color-text-secondary:   #9ca3b0;
  --color-text-tertiary:    #6b7280;
  --color-text-inverse:     #111827;

  /* Brand */
  --color-brand-bg:         rgba(99, 102, 241, 0.12);
  --color-brand-border:     rgba(99, 102, 241, 0.25);

  /* Overlays */
  --color-backdrop:         rgba(0, 0, 0, 0.65);

  /* Shadows */
  --shadow-card:            0 2px 10px rgba(0, 0, 0, 0.35), 0 0 0 1px rgba(99,102,241,0.06);
  --shadow-card-hover:      0 6px 24px rgba(0, 0, 0, 0.45), 0 0 0 1px rgba(99,102,241,0.1);
  --shadow-panel:           0 8px 32px rgba(0, 0, 0, 0.5);

  color-scheme: dark;
}

[data-theme="light"] {
  /* Surfaces */
  --color-bg-primary:       #f9fafb;
  --color-bg-secondary:     #ffffff;
  --color-bg-card:          #ffffff;
  --color-bg-card-hover:    #f3f4f6;
  --color-bg-elevated:      #ffffff;
  --color-bg-input:         #ffffff;

  /* Borders */
  --color-border:           #e5e7eb;
  --color-border-light:     #f3f4f6;
  --color-border-focus:     #6366f1;

  /* Text */
  --color-text-primary:     #111827;
  --color-text-secondary:   #4b5563;
  --color-text-tertiary:    #9ca3af;
  --color-text-inverse:     #ffffff;

  /* Brand */
  --color-brand-bg:         rgba(99, 102, 241, 0.06);
  --color-brand-border:     rgba(99, 102, 241, 0.15);

  /* Overlays */
  --color-backdrop:         rgba(0, 0, 0, 0.4);

  /* Shadows */
  --shadow-card:            0 2px 8px rgba(0, 0, 0, 0.04), 0 0 0 1px rgba(99,102,241,0.04);
  --shadow-card-hover:      0 4px 20px rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(99,102,241,0.08);
  --shadow-panel:           0 8px 32px rgba(0, 0, 0, 0.12);

  color-scheme: light;
}


/* ── 2. GLOBAL SURFACE OVERRIDES ──────────────────────────────────────────── */

/* Body / root background */
[data-theme="dark"] body,
[data-theme="dark"] #root {
  background-color: var(--color-bg-primary) !important;
  color: var(--color-text-primary);
}

[data-theme="light"] body,
[data-theme="light"] #root {
  background-color: var(--color-bg-primary) !important;
  color: var(--color-text-primary);
}


/* ── 3. DARK MODE — COMPONENT SURFACE OVERRIDES ──────────────────────────── */

/* Generic white backgrounds → dark card */
[data-theme="dark"] .bg-white {
  background-color: var(--color-bg-card) !important;
}

[data-theme="dark"] .bg-gray-50 {
  background-color: var(--color-bg-secondary) !important;
}

[data-theme="dark"] .bg-gray-100 {
  background-color: var(--color-bg-card) !important;
}

/* Borders */
[data-theme="dark"] .border-gray-200,
[data-theme="dark"] .border-gray-300 {
  border-color: var(--color-border) !important;
}

/* Text overrides for Tailwind gray scale */
[data-theme="dark"] .text-gray-900 {
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] .text-gray-800 {
  color: #e5e7eb !important;
}

[data-theme="dark"] .text-gray-700 {
  color: #d1d5db !important;
}

[data-theme="dark"] .text-gray-600 {
  color: #9ca3af !important;
}

[data-theme="dark"] .text-gray-500 {
  color: var(--color-text-tertiary) !important;
}

/* Hover states */
[data-theme="dark"] .hover\:bg-gray-50:hover {
  background-color: var(--color-bg-card-hover) !important;
}

[data-theme="dark"] .hover\:bg-gray-100:hover {
  background-color: var(--color-bg-card-hover) !important;
}

/* Form inputs & selects */
[data-theme="dark"] select,
[data-theme="dark"] input[type="text"],
[data-theme="dark"] input[type="number"],
[data-theme="dark"] input[type="email"],
[data-theme="dark"] input[type="password"],
[data-theme="dark"] textarea {
  background-color: var(--color-bg-input) !important;
  color: var(--color-text-primary) !important;
  border-color: var(--color-border) !important;
}

[data-theme="dark"] select option {
  background-color: var(--color-bg-card);
  color: var(--color-text-primary);
}


/* ── 4. HEADER — DARK MODE ───────────────────────────────────────────────── */

[data-theme="dark"] header {
  background-color: rgba(15, 17, 23, 0.92) !important;
  backdrop-filter: blur(20px) saturate(180%);
  border-bottom-color: var(--color-border) !important;
}

[data-theme="dark"] header h1 {
  color: var(--color-text-primary) !important;
}


/* ── 5. SETTINGS PANEL — DARK MODE ───────────────────────────────────────── */

[data-theme="dark"] .settings-panel-body {
  background-color: var(--color-bg-secondary) !important;
}

[data-theme="dark"] .settings-panel-footer {
  background-color: var(--color-bg-secondary) !important;
  border-top-color: var(--color-border) !important;
}


/* ── 6. MEAL CARDS — DARK MODE ───────────────────────────────────────────── */

[data-theme="dark"] .meal-card-surface {
  background-color: var(--color-bg-card) !important;
  border-color: var(--color-border) !important;
}


/* ── 7. BOTTOM NAV — DARK MODE ───────────────────────────────────────────── */

[data-theme="dark"] nav[class*="bottom"],
[data-theme="dark"] .bottom-nav-surface {
  background-color: rgba(24, 26, 36, 0.95) !important;
  border-top-color: var(--color-border) !important;
}


/* ── 8. CONCENTRIC RINGS CARD — DARK MODE ────────────────────────────────── */

[data-theme="dark"] .concept-b-rings-card {
  background: var(--color-bg-card) !important;
  border-color: var(--color-border) !important;
  box-shadow: var(--shadow-card) !important;
}

[data-theme="dark"] .concept-b-rings-card:hover {
  box-shadow: var(--shadow-card-hover) !important;
}

[data-theme="dark"] .concept-b-ring-center-num {
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] .concept-b-label-text {
  color: #9ca3af !important;
}

[data-theme="dark"] .concept-b-label-current {
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] .concept-b-label-row:hover {
  background-color: var(--color-bg-card-hover) !important;
}


/* ── 9. PROFILE TAB / WIZARD — DARK MODE ─────────────────────────────────── */

[data-theme="dark"] .profile-card-surface {
  background-color: var(--color-bg-card) !important;
  border-color: var(--color-border) !important;
}


/* ── 10. DROPDOWN / MENU — DARK MODE ─────────────────────────────────────── */

[data-theme="dark"] .dropdown-menu-surface {
  background-color: var(--color-bg-card) !important;
  border-color: var(--color-border) !important;
  box-shadow: var(--shadow-panel) !important;
}


/* ── 11. TOAST — DARK MODE ───────────────────────────────────────────────── */

[data-theme="dark"] .toast-surface {
  background-color: var(--color-bg-elevated) !important;
  border-color: var(--color-border) !important;
  color: var(--color-text-primary) !important;
}


/* ── 12. MODALS — DARK MODE ──────────────────────────────────────────────── */

[data-theme="dark"] .modal-surface {
  background-color: var(--color-bg-card) !important;
  border-color: var(--color-border) !important;
}


/* ── 13. SHOPPING LIST — DARK MODE ───────────────────────────────────────── */

[data-theme="dark"] .shopping-list-surface {
  background-color: var(--color-bg-card) !important;
  border-color: var(--color-border) !important;
}


/* ── 14. RED / WARNING BACKGROUNDS — DARK MODE ───────────────────────────── */

[data-theme="dark"] .bg-red-50 {
  background-color: rgba(239, 68, 68, 0.1) !important;
}

[data-theme="dark"] .bg-green-50 {
  background-color: rgba(16, 185, 129, 0.1) !important;
}

[data-theme="dark"] .bg-yellow-50 {
  background-color: rgba(245, 158, 11, 0.1) !important;
}

[data-theme="dark"] .bg-blue-50 {
  background-color: rgba(59, 130, 246, 0.1) !important;
}

[data-theme="dark"] .bg-indigo-50 {
  background-color: rgba(99, 102, 241, 0.1) !important;
}

[data-theme="dark"] .bg-purple-50 {
  background-color: rgba(168, 85, 247, 0.1) !important;
}


/* ── 15. HOVER RED — DARK MODE ───────────────────────────────────────────── */

[data-theme="dark"] .hover\:bg-red-50:hover {
  background-color: rgba(239, 68, 68, 0.15) !important;
}


/* ── 16. SCROLLBAR — DARK MODE ───────────────────────────────────────────── */

[data-theme="dark"] ::-webkit-scrollbar {
  width: 8px;
}

[data-theme="dark"] ::-webkit-scrollbar-track {
  background: var(--color-bg-primary);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background: #3d4158;
  border-radius: 4px;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background: #4d5170;
}


/* ── 17. TRANSITION — Smooth theme switch ────────────────────────────────── */

html[data-theme] body,
html[data-theme] #root {
  transition: background-color 0.3s ease, color 0.3s ease;
}