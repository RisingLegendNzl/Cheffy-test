/* =============================================================================
   cheffy-sticky-tabs-enhancements.css
   
   Enhanced styles for the WELDED SEGMENTED StickyTabs component (Concept 2).
   
   CHANGES FROM PREVIOUS VERSION:
   1. Updated class names to match welded-tabs-* naming
   2. Segmented control track and pill optimizations
   3. Focus-visible styles updated for rounded pill buttons
   4. iOS flicker fixes for the welded container
   
   Import in index.jsx AFTER cheffy-patches.css:
     import './cheffy-sticky-tabs-enhancements.css';
   ============================================================================= */

/* ── WELDED TABS CONTAINER OPTIMIZATION ────────────────────────────────── */

.welded-tabs-container {
  contain: layout style paint;
  will-change: top, opacity;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ── PERFORMANCE: GPU ACCELERATION ──────────────────────────────────────── */

.welded-tabs-container,
.welded-tabs-pill,
.welded-tabs-button {
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* ── PREVENT SCROLL JANK ────────────────────────────────────────────────── */

body {
  overflow-x: hidden;
}

/* ── ACCESSIBILITY: FOCUS-VISIBLE ───────────────────────────────────────── */

.welded-tabs-button:focus-visible {
  outline: 2px solid #818cf8;
  outline-offset: -2px;
  border-radius: 11px;
}

/* ── SEGMENTED TRACK: DARK MODE GLOW ────────────────────────────────────── */

[data-theme="dark"] .welded-tabs-pill {
  box-shadow:
    0 1px 4px rgba(0,0,0,0.3),
    0 0.5px 1px rgba(0,0,0,0.2),
    0 0 0 1px rgba(129, 140, 248, 0.08);
}

[data-theme="light"] .welded-tabs-pill {
  box-shadow:
    0 1px 4px rgba(0,0,0,0.08),
    0 0.5px 1px rgba(0,0,0,0.06);
}

/* ── RESPONSIVE ADJUSTMENTS ─────────────────────────────────────────────── */

@media (max-width: 480px) {
  .welded-tabs-container {
    padding: 0 2px;
  }
  /* Tighten gap between icon and label on very small screens */
  .welded-tabs-button {
    gap: 5px !important;
    font-size: 12px !important;
  }
}

@media (min-width: 481px) and (max-width: 768px) {
  .welded-tabs-container {
    padding: 0 4px;
  }
}

/* ── BACKDROP-FILTER FALLBACK ───────────────────────────────────────────── */

@supports (backdrop-filter: blur(24px)) {
  .welded-tabs-container {
    backdrop-filter: blur(24px) saturate(180%);
    -webkit-backdrop-filter: blur(24px) saturate(180%);
  }
}

@supports not (backdrop-filter: blur(24px)) {
  [data-theme="dark"] .welded-tabs-container {
    background-color: rgba(15, 17, 23, 1) !important;
  }
  [data-theme="light"] .welded-tabs-container {
    background-color: rgba(255, 255, 255, 1) !important;
  }
}

/* ── iOS FLICKER FIX ────────────────────────────────────────────────────── */

@supports (-webkit-touch-callout: none) {
  .welded-tabs-container {
    -webkit-transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    -webkit-perspective: 1000;
  }
}

/* ── REDUCED MOTION ─────────────────────────────────────────────────────── */

@media (prefers-reduced-motion: reduce) {
  .welded-tabs-container,
  .welded-tabs-pill,
  .welded-tabs-button {
    transition-duration: 0.01ms !important;
  }
}

/* ── PRINT: HIDE TABS ───────────────────────────────────────────────────── */

@media print {
  .welded-tabs-container {
    display: none !important;
  }
}

/* ── SCROLLBAR STYLING (unchanged from previous) ────────────────────────── */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: rgba(156, 163, 175, 0.5);
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: rgba(156, 163, 175, 0.7);
}
[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background: rgba(75, 85, 99, 0.5);
}
[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background: rgba(75, 85, 99, 0.7);
}