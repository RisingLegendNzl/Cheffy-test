/* =============================================================================
   cheffy-sticky-tabs-enhancements.css
   
   Enhanced styles for the revamped StickyTabs component.
   
   FIXES:
   1. Ensures tabs remain sticky during all scroll scenarios
   2. Prevents layout shift when tabs show/hide
   3. Optimizes rendering performance
   4. Adds subtle hover states for better UX
   
   Import in index.jsx AFTER cheffy-patches.css:
     import './cheffy-sticky-tabs-enhancements.css';
   ============================================================================= */

/* ── STICKY TABS CONTAINER OPTIMIZATION ────────────────────────────────── */

/* Ensure smooth rendering and prevent layout jumps */
.sticky-tabs-container {
  contain: layout style paint;
  will-change: top, opacity;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ── PERFORMANCE OPTIMIZATIONS ──────────────────────────────────────────── */

/* Force GPU acceleration for smooth transitions */
.sticky-tabs-container,
.sticky-tabs-pill,
.sticky-tabs-button {
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* ── PREVENT SCROLL JANK ────────────────────────────────────────────────── */

/* Ensure tabs don't cause reflow during scroll */
body {
  overflow-x: hidden; /* Prevent horizontal scroll */
}

/* ── ACCESSIBILITY ENHANCEMENTS ─────────────────────────────────────────── */

/* Focus visible styles for keyboard navigation */
.sticky-tabs-button:focus-visible {
  outline: 2px solid #818cf8;
  outline-offset: 2px;
  border-radius: 12px;
}

/* ── RESPONSIVE ADJUSTMENTS ─────────────────────────────────────────────── */

/* Ensure tabs are readable on all screen sizes */
@media (max-width: 480px) {
  .sticky-tabs-container {
    /* Tabs remain at full width on mobile */
    padding: 0 4px;
  }
}

@media (min-width: 481px) and (max-width: 768px) {
  .sticky-tabs-container {
    /* Slightly more padding on tablets */
    padding: 0 8px;
  }
}

/* ── DARK MODE ENHANCEMENTS ─────────────────────────────────────────────── */

[data-theme="dark"] .sticky-tabs-pill {
  /* Enhanced glow in dark mode */
  box-shadow: 
    0 0 0 1px rgba(129, 140, 248, 0.2),
    0 2px 8px rgba(99, 102, 241, 0.25),
    0 0 20px rgba(99, 102, 241, 0.15);
}

[data-theme="light"] .sticky-tabs-pill {
  /* Subtle elevation in light mode */
  box-shadow: 
    0 0 0 1px rgba(99, 102, 241, 0.15),
    0 2px 8px rgba(99, 102, 241, 0.1);
}

/* ── ANIMATION SMOOTHNESS ───────────────────────────────────────────────── */

/* Ensure all transitions use hardware acceleration */
@supports (backdrop-filter: blur(24px)) {
  .sticky-tabs-container {
    backdrop-filter: blur(24px) saturate(180%);
    -webkit-backdrop-filter: blur(24px) saturate(180%);
  }
}

/* Fallback for browsers that don't support backdrop-filter */
@supports not (backdrop-filter: blur(24px)) {
  [data-theme="dark"] .sticky-tabs-container {
    background-color: rgba(15, 17, 23, 1) !important;
  }
  
  [data-theme="light"] .sticky-tabs-container {
    background-color: rgba(255, 255, 255, 1) !important;
  }
}

/* ── PREVENT FLICKERING ON iOS ──────────────────────────────────────────── */

/* iOS-specific fixes */
@supports (-webkit-touch-callout: none) {
  .sticky-tabs-container {
    -webkit-transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    -webkit-perspective: 1000;
  }
}

/* ── SMOOTH SCROLL BEHAVIOR ─────────────────────────────────────────────── */

/* Respect user's reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .sticky-tabs-container,
  .sticky-tabs-pill,
  .sticky-tabs-button {
    transition-duration: 0.01ms !important;
  }
}

/* ── CUSTOM SCROLLBAR (OPTIONAL) ────────────────────────────────────────── */

/* Better scrollbar visibility when tabs are sticky */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(156, 163, 175, 0.5);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(156, 163, 175, 0.7);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background: rgba(75, 85, 99, 0.5);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background: rgba(75, 85, 99, 0.7);
}

/* ── PRINT STYLES ───────────────────────────────────────────────────────── */

/* Hide tabs when printing */
@media print {
  .sticky-tabs-container {
    display: none !important;
  }
}